# Chrome Bookmark List - 外部仕様書

## 概要

Chrome Bookmark Listは、Chromeブラウザの新しいタブでブックマークをフォルダ別に整理して表示するChrome拡張機能です。ユーザーはブックマークを視覚的に管理し、素早くアクセスできます。

## 主要機能

### 1. ブックマーク表示機能
- **目的**: Chromeのブックマークをフォルダ構造に従って一覧表示
- **動作**: 新しいタブを開くと、ブックマークが自動的にフォルダ別に表示される
- **表示内容**:
  - フォルダ名とフォルダ内のブックマーク数
  - 各ブックマークのタイトル、URL、Favicon
  - 階層構造（親フォルダ → 子フォルダ → 孫フォルダ）

### 2. フォルダ展開・折りたたみ機能
- **目的**: 大量のブックマークを整理して見やすくする
- **操作方法**:
  - サブフォルダがあるフォルダ: フォルダヘッダーをクリックしてサブフォルダの表示/非表示を切り替え
  - ブックマークのみのフォルダ: フォルダヘッダーをクリックしてブックマークリストの表示/非表示を切り替え
- **視覚的表示**:
  - 📁（折りたたみ状態）/ 📂（展開状態）のアイコン表示
  - サブフォルダは薄紫色の背景で区別

### 3. ブックマークアクセス機能
- **目的**: ブックマークへの素早いアクセス
- **操作方法**: ブックマークリンクをクリック
- **動作**: 新しいタブでブックマークのページが開く

### 4. リアルタイム検索機能
- **目的**: 大量のブックマークから目的のものを素早く見つける
- **操作方法**: ページ上部の検索ボックスに文字を入力
- **検索対象**: ブックマークのタイトルとURL
- **動作**:
  - 入力に応じてリアルタイムでフィルタリング
  - 該当するブックマークを含むフォルダのみ表示
  - 検索時は関連フォルダが自動展開

### 5. Favicon表示機能
- **目的**: ブックマークの視覚的な識別性向上
- **動作**: 
  - 各ブックマークのFaviconを非同期で取得・表示
  - 標準パス（/favicon.ico等）とHTML解析による検出
  - 取得できない場合は🔗アイコンを表示
  - パフォーマンス向上のためキャッシュ機能付き
- **セキュリティ重視**: 外部APIサービスを使用せず、ホスト名の流出を防止

## ユーザーインターフェース

### レイアウト
- **グリッドレイアウト**: ブックマークフォルダがカード形式で配置
- **レスポンシブデザイン**: 画面サイズに応じて最適化
- **モダンなUI**: カードのホバーエフェクト、シャドウ効果

### 操作性
- **直感的操作**: クリックベースのシンプルな操作
- **視覚的フィードバック**: ホバー効果、アイコン変化
- **高速レスポンス**: 軽量設計による快適な操作感

## 対応環境

### 必要条件
- **ブラウザ**: Google Chrome（Manifest V3対応版）
- **権限**: 
  - `bookmarks`: ブックマークデータへのアクセス
  - `tabs`: 新しいタブでのページ開く機能

### パフォーマンス
- **起動時間**: 高速な初期読み込み
- **メモリ使用量**: 軽量設計
- **レスポンス性**: スムーズなUI操作

## 制限事項

1. **Chrome専用**: Chrome拡張機能のため、他ブラウザでは使用不可
2. **権限必須**: ブックマークとタブの権限が必要
3. **オフライン制限**: Favicon取得にはインターネット接続が必要
4. **表示制限**: 極めて大量のブックマーク（数千個以上）では表示速度が低下する可能性

## セキュリティ

- **プライバシー保護**: ブックマークデータはローカルでのみ処理、外部送信なし
- **ホスト名保護**: 内部ネットワークのホスト名が外部サービスに送信されることを防止
- **外部依存なし**: 外部APIサービスを使用せず、完全に自己完結
- **権限最小化**: 必要最小限の権限のみ要求
- **安全な実装**: XSS対策としてHTMLエスケープ処理を実装

## バージョン情報

- **現在のバージョン**: 1.3.0
- **Manifest**: V3準拠
- **実装言語**: TypeScript
- **テスト**: 包括的なユニットテスト・統合テスト完備
